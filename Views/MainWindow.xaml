<Window x:Class="DrLab.Desktop.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid>
        <!-- Main Background Gradient -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#0F0F23" Offset="0"/>
                <GradientStop Color="#1A1A2E" Offset="0.5"/>
                <GradientStop Color="#16213E" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Navigation View with Sidebar -->
        <NavigationView x:Name="MainNavigationView"
                        IsBackButtonVisible="Collapsed"
                        IsSettingsVisible="False"
                        PaneDisplayMode="LeftMinimal"
                        IsPaneToggleButtonVisible="True"
                        SelectionChanged="MainNavigationView_SelectionChanged"
                        Background="Transparent">

            <!-- Custom Header -->
            <NavigationView.Header>
                <Grid Height="60" Margin="20,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Page Title -->
                    <StackPanel Grid.Column="0" VerticalAlignment="Center" Orientation="Horizontal" Spacing="12">
                        <Border Width="32" Height="32" CornerRadius="16">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#4F46E5" Offset="0"/>
                                    <GradientStop Color="#7C3AED" Offset="0.5"/>
                                    <GradientStop Color="#EC4899" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <FontIcon FontFamily="Segoe MDL2 Assets" 
                                      Glyph="&#xE7BA;" 
                                      FontSize="16" 
                                      Foreground="White"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                        </Border>

                        <StackPanel>
                            <TextBlock x:Name="PageTitleText" 
                                       Text="DrLab LIMS" 
                                       FontSize="20" 
                                       FontWeight="SemiBold"
                                       Foreground="White"/>
                            <TextBlock x:Name="PageSubtitleText"
                                       Text="Laboratory Information Management System" 
                                       FontSize="12" 
                                       Foreground="#80FFFFFF"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- User Info and Actions -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                        <!-- Notifications -->
                        <Button Width="40" Height="40" 
                                CornerRadius="20"
                                Background="#15FFFFFF"
                                BorderBrush="#30FFFFFF"
                                BorderThickness="1">
                            <FontIcon FontFamily="Segoe MDL2 Assets" 
                                      Glyph="&#xE7E7;" 
                                      FontSize="16" 
                                      Foreground="White"/>
                        </Button>

                        <!-- Messages -->
                        <Button Width="40" Height="40" 
                                CornerRadius="20"
                                Background="#15FFFFFF"
                                BorderBrush="#30FFFFFF"
                                BorderThickness="1">
                            <FontIcon FontFamily="Segoe MDL2 Assets" 
                                      Glyph="&#xE8BD;" 
                                      FontSize="16" 
                                      Foreground="White"/>
                        </Button>

                        <!-- User Menu -->
                        <Button x:Name="UserMenuButton"
                                Height="40" 
                                CornerRadius="20"
                                Background="#15FFFFFF"
                                BorderBrush="#30FFFFFF"
                                BorderThickness="1"
                                Padding="12,0">
                            <Button.Flyout>
                                <MenuFlyout>
                                    <MenuFlyoutItem Text="Profile">
                                        <MenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE77B;"/>
                                        </MenuFlyoutItem.Icon>
                                    </MenuFlyoutItem>
                                    <MenuFlyoutItem Text="Preferences">
                                        <MenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE713;"/>
                                        </MenuFlyoutItem.Icon>
                                    </MenuFlyoutItem>
                                    <MenuFlyoutSeparator/>
                                    <MenuFlyoutItem Text="Logout" 
                                                    Click="LogoutMenuItem_Click">
                                        <MenuFlyoutItem.Icon>
                                            <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8FB;"/>
                                        </MenuFlyoutItem.Icon>
                                    </MenuFlyoutItem>
                                </MenuFlyout>
                            </Button.Flyout>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <Ellipse Width="24" Height="24" Fill="#4F46E5"/>
                                <StackPanel>
                                    <TextBlock x:Name="UserNameText" 
                                               Text="Loading..." 
                                               FontSize="12" 
                                               FontWeight="Medium"
                                               Foreground="White"/>
                                    <TextBlock x:Name="UserDepartmentText"
                                               Text="Loading..." 
                                               FontSize="10" 
                                               Foreground="#80FFFFFF"/>
                                </StackPanel>
                                <FontIcon FontFamily="Segoe MDL2 Assets" 
                                          Glyph="&#xE70D;" 
                                          FontSize="12" 
                                          Foreground="#80FFFFFF"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </NavigationView.Header>

            <!-- Menu Items -->
            <NavigationView.MenuItems>
                <NavigationViewItem Icon="Home" Content="Dashboard" Tag="Dashboard"/>
                <NavigationViewItem Content="Samples" Tag="Samples">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE82F;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Results Entries" Tag="Results">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8A5;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Clients" Tag="Clients">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE716;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Finance" Tag="Finance">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8C7;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Quality Control" Tag="QualityControl">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8EF;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Result Reviews" Tag="Reviews">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8F4;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Reports" Tag="Reports">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8A3;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Messaging" Tag="Messaging">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8BD;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <!-- Footer Menu Items -->
            <NavigationView.FooterMenuItems>
                <NavigationViewItem Content="Settings" Tag="Settings">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE713;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>

            <!-- Main Content Area -->
            <Frame x:Name="ContentFrame" 
                   Background="Transparent"
                   Margin="20"/>
        </NavigationView>
    </Grid>
</Window>